<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>GISProject - Methodology - Step by Step Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">GISProject</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./intro.html">Introduction</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./methodology.html" aria-current="page">Methodology</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analysis.html">Analysis</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./findings.html">Results and Discussion</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-collection" id="toc-data-collection" class="nav-link active" data-scroll-target="#data-collection">1.0 Data Collection</a>
  <ul class="collapse">
  <li><a href="#downloading-data" id="toc-downloading-data" class="nav-link" data-scroll-target="#downloading-data">1.1 Downloading Data</a></li>
  <li><a href="#managing-the-imported-data" id="toc-managing-the-imported-data" class="nav-link" data-scroll-target="#managing-the-imported-data">1.2 Managing the Imported Data</a></li>
  </ul></li>
  <li><a href="#data-preparation-data-cleaning-and-qgis-project-setup-primary-school" id="toc-data-preparation-data-cleaning-and-qgis-project-setup-primary-school" class="nav-link" data-scroll-target="#data-preparation-data-cleaning-and-qgis-project-setup-primary-school">2.0 Data Preparation, Data Cleaning and QGIS Project Setup (Primary School)</a>
  <ul class="collapse">
  <li><a href="#creating-a-new-project-and-assigning-project-coordinate-system-for-new-project" id="toc-creating-a-new-project-and-assigning-project-coordinate-system-for-new-project" class="nav-link" data-scroll-target="#creating-a-new-project-and-assigning-project-coordinate-system-for-new-project">2.1 Creating a New Project and Assigning Project Coordinate System for New Project</a>
  <ul class="collapse">
  <li><a href="#saving-your-project" id="toc-saving-your-project" class="nav-link" data-scroll-target="#saving-your-project">2.1.1 Saving your project</a></li>
  </ul></li>
  <li><a href="#preparing-base-layer-for-study-area" id="toc-preparing-base-layer-for-study-area" class="nav-link" data-scroll-target="#preparing-base-layer-for-study-area">2.2 Preparing base layer for study area</a></li>
  <li><a href="#storing-your-data-sets-in-geopackage-format" id="toc-storing-your-data-sets-in-geopackage-format" class="nav-link" data-scroll-target="#storing-your-data-sets-in-geopackage-format">2.3 Storing your data sets in GeoPackage format</a></li>
  <li><a href="#preparation-of-primary-school-layer" id="toc-preparation-of-primary-school-layer" class="nav-link" data-scroll-target="#preparation-of-primary-school-layer">2.4 Preparation of Primary School Layer</a>
  <ul class="collapse">
  <li><a href="#geocoding-prepared-data" id="toc-geocoding-prepared-data" class="nav-link" data-scroll-target="#geocoding-prepared-data">2.4.1 Geocoding Prepared Data</a></li>
  <li><a href="#adding-primary-school-layer-into-qgis-project" id="toc-adding-primary-school-layer-into-qgis-project" class="nav-link" data-scroll-target="#adding-primary-school-layer-into-qgis-project">2.4.2 Adding Primary School Layer into QGIS Project</a></li>
  </ul></li>
  <li><a href="#preparation-of-road-network-layer" id="toc-preparation-of-road-network-layer" class="nav-link" data-scroll-target="#preparation-of-road-network-layer">2.5 Preparation of Road Network Layer</a>
  <ul class="collapse">
  <li><a href="#selecting-all-road-networks-within-the-study-area" id="toc-selecting-all-road-networks-within-the-study-area" class="nav-link" data-scroll-target="#selecting-all-road-networks-within-the-study-area">2.5.1 Selecting all road networks within the study area</a></li>
  <li><a href="#extracting-motor-vehicle-road-network" id="toc-extracting-motor-vehicle-road-network" class="nav-link" data-scroll-target="#extracting-motor-vehicle-road-network">2.5.2 Extracting Motor Vehicle Road Network</a></li>
  <li><a href="#extracting-pedestrian-path-network" id="toc-extracting-pedestrian-path-network" class="nav-link" data-scroll-target="#extracting-pedestrian-path-network">2.5.3 Extracting Pedestrian Path Network</a></li>
  </ul></li>
  <li><a href="#preparation-of-young-people-distribution-layer" id="toc-preparation-of-young-people-distribution-layer" class="nav-link" data-scroll-target="#preparation-of-young-people-distribution-layer">2.6 Preparation of Young People Distribution Layer</a>
  <ul class="collapse">
  <li><a href="#extracting-youth-population" id="toc-extracting-youth-population" class="nav-link" data-scroll-target="#extracting-youth-population">2.6.1 Extracting Youth Population</a></li>
  <li><a href="#creating-relational-join" id="toc-creating-relational-join" class="nav-link" data-scroll-target="#creating-relational-join">2.6.2 Creating Relational Join</a></li>
  <li><a href="#creating-choropleth-map-to-display-youth-population-distribution" id="toc-creating-choropleth-map-to-display-youth-population-distribution" class="nav-link" data-scroll-target="#creating-choropleth-map-to-display-youth-population-distribution">2.6.3 Creating Choropleth Map to Display Youth Population Distribution</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#preparing-maps-for-analysis" id="toc-preparing-maps-for-analysis" class="nav-link" data-scroll-target="#preparing-maps-for-analysis">3.0 Preparing Maps for Analysis</a>
  <ul class="collapse">
  <li><a href="#creating-the-hexagon-layer" id="toc-creating-the-hexagon-layer" class="nav-link" data-scroll-target="#creating-the-hexagon-layer">3.1 Creating the hexagon layer</a>
  <ul class="collapse">
  <li><a href="#editing-the-hexagon-layer" id="toc-editing-the-hexagon-layer" class="nav-link" data-scroll-target="#editing-the-hexagon-layer">3.1.1 Editing the hexagon layer</a></li>
  <li><a href="#saving-the-hexagon-layer" id="toc-saving-the-hexagon-layer" class="nav-link" data-scroll-target="#saving-the-hexagon-layer">3.1.2 Saving the hexagon layer</a></li>
  <li><a href="#computing-hexagon-centroid" id="toc-computing-hexagon-centroid" class="nav-link" data-scroll-target="#computing-hexagon-centroid">3.1.3&nbsp; Computing hexagon centroid</a></li>
  <li><a href="#saving-the-centroid-layer" id="toc-saving-the-centroid-layer" class="nav-link" data-scroll-target="#saving-the-centroid-layer">3.1.4 Saving the centroid layer</a></li>
  <li><a href="#network-accessibility-analysis" id="toc-network-accessibility-analysis" class="nav-link" data-scroll-target="#network-accessibility-analysis">3.2.2 Network Accessibility Analysis</a></li>
  <li><a href="#mapping-accessibility-values" id="toc-mapping-accessibility-values" class="nav-link" data-scroll-target="#mapping-accessibility-values">3.2.3 Mapping Accessibility Values</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#accessibility-analysis-for-secondary-school" id="toc-accessibility-analysis-for-secondary-school" class="nav-link" data-scroll-target="#accessibility-analysis-for-secondary-school">Accessibility Analysis for Secondary School&nbsp;</a>
  <ul class="collapse">
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">1.0 Data Preparation&nbsp;</a>
  <ul class="collapse">
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">1.1 Data cleaning&nbsp;</a></li>
  <li><a href="#geocode-the-prepared-data" id="toc-geocode-the-prepared-data" class="nav-link" data-scroll-target="#geocode-the-prepared-data">1.1 Geocode the prepared data</a></li>
  </ul></li>
  <li><a href="#preparing-base-layer-for-study-area-1" id="toc-preparing-base-layer-for-study-area-1" class="nav-link" data-scroll-target="#preparing-base-layer-for-study-area-1">2.0&nbsp; Preparing base layer for study area</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Methodology - Step by Step Guide</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="data-collection" class="level1">
<h1>1.0 Data Collection</h1>
<section id="downloading-data" class="level2">
<h2 class="anchored" data-anchor-id="downloading-data">1.1 Downloading Data</h2>
<p>Firstly, you are required to download the following data from data.gov.sg:</p>
<ol type="1">
<li><p><a href="https://data.gov.sg/dataset/master-plan-2019-subzone-boundary-no-sea">Master Plan 2019 Subzone Boundary (No Sea)</a></p></li>
<li><p><a href="https://data.gov.sg/dataset/school-directory-and-information">General Information of Schools</a></p></li>
<li><p><a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">Singapore Residents by Planning Area / Subzone, Single Year of Age and Sex, June 2011-2020</a></p></li>
</ol>
<p>Next, you are required to download geospatial data from <a href="https://download.geofabrik.de/asia/malaysia-singapore-brunei.html">geofabrik</a>:&nbsp;</p>
<ol type="1">
<li>Roads data from OpenStreetMap (OSM) data sets&nbsp;
<ul>
<li>Click on Asia → Malaysia, Singapore, and Brunei → Download malaysia-singapore-brunei-latest-free.shp.zip&nbsp;</li>
</ul></li>
</ol>
<p>Next, you are required to download MRT data (Train Station) from the <a href="https://datamall.lta.gov.sg/content/datamall/en/static-data.html">Land Transport Authority (LTA) Data Mall</a>. The data set provides the locations of MRT stations in Singapore.&nbsp;</p>
</section>
<section id="managing-the-imported-data" class="level2">
<h2 class="anchored" data-anchor-id="managing-the-imported-data">1.2 Managing the Imported Data</h2>
<p>Assuming the root directory of this project is called GISProject, create a sub-folder called data.</p>
<ul>
<li><p>Place the downloaded data from data.gov.sg and LTA Data Mall into the data sub-folder</p>
<ul>
<li><p>Unzip the respective zipped files,</p></li>
<li><p>Extract the zipped files, and</p></li>
<li><p>Place them in data folder</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="data-preparation-data-cleaning-and-qgis-project-setup-primary-school" class="level1">
<h1>2.0 Data Preparation, Data Cleaning and QGIS Project Setup (Primary School)</h1>
<section id="creating-a-new-project-and-assigning-project-coordinate-system-for-new-project" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-new-project-and-assigning-project-coordinate-system-for-new-project">2.1 Creating a New Project and Assigning Project Coordinate System for New Project</h2>
<ol type="1">
<li><p>From Windows Desktop, launch QGIS.&nbsp;</p></li>
<li><p>You will start a new QGIS project. From the menu bar, select <strong>Project → New</strong>.&nbsp;</p></li>
<li><p>Ensure that your projection system at the bottom right bar is using EPSG:3414, if not reassign the projection system by selecting SVY21 / Singapore TM.</p></li>
</ol>
<p><img src="images/image1.jpg" class="img-fluid"></p>
<p>Notice that the projection system has been updated to EPSG:3414 now.</p>
<p><img src="images/image2.jpg" class="img-fluid"></p>
<section id="saving-your-project" class="level3">
<h3 class="anchored" data-anchor-id="saving-your-project">2.1.1 Saving your project</h3>
<p>It is time to save the project.&nbsp;</p>
<ol type="1">
<li><p>From the menu bar, click <strong>Project → Save</strong>.&nbsp;</p></li>
<li><p>At the <strong>Choose a QGIS project file</strong> dialog window, navigate to the root project folder, then provide a proper project name such as GISProject in QGIS files (.qgs) format from the <strong>Save as type</strong>: dropdown list. Your screen should look similar to the screenshot below.</p></li>
</ol>
<p><img src="images/image3.jpg" class="img-fluid"></p>
</section>
</section>
<section id="preparing-base-layer-for-study-area" class="level2">
<h2 class="anchored" data-anchor-id="preparing-base-layer-for-study-area">2.2 Preparing base layer for study area</h2>
<p>Our study area would be the Singapore Planning Subzone excluding all the outer islands&nbsp; such as Pulau Ubin and Pulau Tekong.</p>
<ol type="1">
<li>From the <strong>Browser</strong> panel, navigate to the path of GISProject as shown in the screenshot below.&nbsp;</li>
</ol>
<p><img src="images/image4.jpg" class="img-fluid"></p>
<ol start="2" type="1">
<li><p>Double click on URA_MP19_SUBZONE_NO_SEA_PL.shp Notice that URA_MP19_SUBZONE_NO_SEA_PL.shp is added in the <strong>Layer</strong> panel.&nbsp;&nbsp;</p></li>
<li><p>The View window should look like this.&nbsp;</p></li>
</ol>
<p><img src="images/image5.jpg" class="img-fluid"></p>
<p>We will now select the main island of Singapore, excluding the outer islands.&nbsp;</p>
<ol type="1">
<li>From the toolbar, click <strong>Select Features by Polygon</strong></li>
</ol>
<p><img src="images/image6.jpg" class="img-fluid"></p>
<ol start="2" type="1">
<li>Select the main island of Singapore. Your screen should look similar to the screenshot below.</li>
</ol>
<p><img src="images/image7.jpg" class="img-fluid"></p>
</section>
<section id="storing-your-data-sets-in-geopackage-format" class="level2">
<h2 class="anchored" data-anchor-id="storing-your-data-sets-in-geopackage-format">2.3 Storing your data sets in GeoPackage format</h2>
<ol type="1">
<li><p>Save all your data sets into an integrated database called GISProject.</p></li>
<li><p>From the <strong>Layers</strong> panel, right-click on URA_MP19_SUBZONE_NO_SEA_PL layer.</p></li>
<li><p>Select <strong>Export → Save Selected Features As</strong> from the context menu.</p>
<ol type="1">
<li><p>The <strong>Save Vector Layer</strong> dialog window appears. For <strong>Format</strong>, select GeoPackage from the drop-down list.&nbsp;</p></li>
<li><p>For <strong>Save as</strong>, click on the Browse button. The <strong>Save Layer As</strong> dialog window appears</p></li>
<li><p>Navigate to \GISProject\Geopackage\ sub-folder.&nbsp;</p></li>
<li><p>For <strong>File Name</strong>, type GISProject.&nbsp;</p></li>
<li><p>Rename your layer as MP19_SUBZONE.&nbsp;</p></li>
<li><p>Check that the CRS is Project CRS: EPSG:3414 – SVY21</p></li>
</ol></li>
</ol>
<p><img src="images/image8.jpg" class="img-fluid"></p>
<p>From the Layers panel, right click the URA_MP19_SUBZONE_NO_SEA_PL layer and click <strong>Remove Layer.</strong></p>
</section>
<section id="preparation-of-primary-school-layer" class="level2">
<h2 class="anchored" data-anchor-id="preparation-of-primary-school-layer">2.4 Preparation of Primary School Layer</h2>
<p>Review the content of general-information-of-schools.csv file. Locate and open the file with <strong>Excel.</strong></p>
<p>Your screen should look like the figure below.</p>
<p><img src="images/image9.jpg" class="img-fluid"></p>
<ol type="1">
<li>Using appropriate Excel functions to sort the schools according to the&nbsp; mainlevel_code field, retain only the schools categorized as Primary.&nbsp;</li>
</ol>
<p>Take note that there are 3 Primary Schools: Catholic High School, CHIJ St.&nbsp;Nicholas Girls’&nbsp; School and Maris Stella High School categorized as Mixed Levels under the mainlevel_code.&nbsp;</p>
<ol start="2" type="1">
<li><p>Using appropriate Excel function, retain the school_name, address,&nbsp; postal_code, and mainlevel_code field and delete the unwanted fields.&nbsp;</p></li>
<li><p>Create two new fields: country and city fields</p></li>
<li><p>Fill the two fields with Singapore</p></li>
<li><p>The final general-information-of-schools.csv should look like this. Save the file.</p></li>
</ol>
<p><img src="images/image10.jpg" class="img-fluid"></p>
<section id="geocoding-prepared-data" class="level3">
<h3 class="anchored" data-anchor-id="geocoding-prepared-data">2.4.1 Geocoding Prepared Data</h3>
<ol type="1">
<li>Geocode the general-information-of-schools data set by using SLA OneMap API. Save the geocoded data set in &nbsp;geocoded_school.csv. The geocoded data set should have the new fields Latitude and Longitude.</li>
</ol>
<p>The geocoded_school.csv should look similar to this.</p>
<p><img src="images/image11.jpg" class="img-fluid"></p>
<p>Notice the first 4 entries do not have values under Latitude and Longitude.</p>
<ol start="2" type="1">
<li><p>Collate the 4 primary schools without any values in the Latitude and Longitude fields and save them in not-foundschools.csv.&nbsp;</p>
<ol type="1">
<li><p>Create two new fields: country and city&nbsp;</p></li>
<li><p>Fill the cell below country and city fields with Singapore.&nbsp;</p></li>
</ol></li>
</ol>
<p>The final not-foundschools.csv should look similar to this.&nbsp;</p>
<p><img src="images/image12.jpg" class="img-fluid"></p>
<section id="installing-the-mmqgis-plugin" class="level4">
<h4 class="anchored" data-anchor-id="installing-the-mmqgis-plugin">2.4.1.1 Installing the MMQGIS Plugin</h4>
<p>To install the MMQGIS plugin, you will need to load the QGIS plugin repository by following the steps below.</p>
<ul>
<li>From the menu bar, select <strong>Plugins → Manage and Install Plugins.</strong></li>
</ul>
<p><strong>Plugins</strong> dialog window appears as shown below.</p>
<p><img src="images/image13.jpg" class="img-fluid"></p>
<p>Notice that there is a long list of plugins available. We can use the Search function to locate mmqgis plugin easily.</p>
<ul>
<li>At Search, type mmqgis.</li>
</ul>
<p>Your screen should look similar to the figure below.</p>
<p><img src="images/image14.jpg" class="img-fluid"></p>
<ul>
<li>Click on <strong>Install Plugin</strong> button to run the installer.</li>
</ul>
<p>After installing mmqgis plugin, remember to close the <strong>Plugin</strong> dialog window.</p>
<ul>
<li>Click on <strong>Close</strong> button.</li>
</ul>
</section>
<section id="geocoding-using-mmqgis-plugin" class="level4">
<h4 class="anchored" data-anchor-id="geocoding-using-mmqgis-plugin">2.4.1.2 Geocoding using MMQGIS Plugin</h4>
<p>Now, you are ready geocode not-foundschools dataset.</p>
<ul>
<li>From the menu bar, select <strong>MMQGIS → Geocode → Geocode CSV with Web Service.</strong></li>
</ul>
<p>Web Service Geocode dialog window appears.</p>
<p><img src="images/image15.jpg" class="img-fluid"></p>
<ul>
<li>From Input CSV File (UTF-8), click on <strong>Browse</strong> button.</li>
</ul>
<p>Select a file dialog window appears.</p>
<ul>
<li><p>Navigate to the path where &nbsp;not-foundschools.csv reside.</p></li>
<li><p>Click on not-foundschools.csv.</p></li>
<li><p>Click on <strong>Open</strong> button.</p></li>
</ul>
<p>Your screen should similar to the screenshot below.</p>
<p><img src="images/image16.jpg" class="img-fluid"></p>
<ul>
<li>For Web Service, select OpenStreetMap/Nominatim from the drop-down list.</li>
</ul>
<p>Geocode Tool will generate two output files. They are a point feature GIS data set along with a Not Found CSV file containing all rows that could not be geocoded (for whatever reason). We need to tell Geocode Tool where to keep these two output files.</p>
<ul>
<li><p>Use File Explorer to create a new sub-folder called geocoding in GISProject directory.</p></li>
<li><p>For Output File Name, click on Browse button.</p></li>
</ul>
<p>Create or select a file dialog window appears.</p>
<ul>
<li><p>Navigate to the newly create geocoding sub-folder.</p></li>
<li><p>For File name, type geocoded_sch.shp</p></li>
<li><p>Click on Save button.</p></li>
</ul>
<p>You also need to provide the Not Found List Output list a place holder.</p>
<ul>
<li>For Not Found Output list, click on Browse button.</li>
</ul>
<p>Create or select a file dialog window appears.</p>
<ul>
<li><p>Navigate to the newly create geocoding sub-folder.</p></li>
<li><p>For File name, type not_found_sch.csv</p></li>
<li><p>Click on Save button.</p></li>
</ul>
<p>The completed dialog window should look similar to the screenshot below.</p>
<p><img src="images/image17.jpg" class="img-fluid"></p>
<p>Now, you are ready to perform the geocoding function.</p>
<ul>
<li>At the Web Service Geocode dialog window, click on <strong>Apply</strong> button.</li>
</ul>
<p>When the geocoding function is completed, notice that a new shapefile layer will be added on QGIS map window. At the same time, the progress bar will indicate numbers of records that have been geocoded successfully.</p>
<ul>
<li>Click on the <strong>Close</strong> button to close the dialog window.</li>
</ul>
<p>At the <strong>Layers</strong> panel, right-click on &nbsp;geocoded_schs layer → <strong>Open Attribute Table</strong></p>
<p><img src="images/image18.jpg" class="img-fluid"></p>
<ul>
<li><p>Extract the values from the latlong field and fill in the missing Latitude and Longitude of the 3 primary schools in the geocoded_school.csv.&nbsp;</p></li>
<li><p>The final geocoded_school.csv should look similar to the screenshot below. Save the file as primary_schools.csv.</p></li>
</ul>
<p><img src="images/image19.jpg" class="img-fluid"></p>
</section>
</section>
<section id="adding-primary-school-layer-into-qgis-project" class="level3">
<h3 class="anchored" data-anchor-id="adding-primary-school-layer-into-qgis-project">2.4.2 Adding Primary School Layer into QGIS Project</h3>
<p>We will now import the primary school csv into the project.&nbsp;</p>
<ul>
<li>Click <strong>Layer → Add Layer → Add Raster Layer.</strong></li>
</ul>
<p><img src="images/image20.jpg" class="img-fluid"></p>
<p><strong>Data Source Manager | Delimited Text</strong> dialog window appears.&nbsp;</p>
<ul>
<li><p>For <strong>File name,</strong> navigate to the folder where the primary school csv resides</p></li>
<li><p>For <strong>Geometry Definition</strong>, click Point coordinates and ensure <strong>X field</strong> is set as Longitude and <strong>Y field</strong> is set as Latitude</p></li>
<li><p>Click <strong>Add</strong> button.</p></li>
<li><p>Click <strong>Close</strong> button.</p></li>
</ul>
<p><img src="images/image21.jpg" class="img-fluid"></p>
<p>In the <strong>Layers</strong> panel, notice that the primary_schools layer has been added.&nbsp;</p>
<p><img src="images/image22.jpg" class="img-fluid"></p>
</section>
</section>
<section id="preparation-of-road-network-layer" class="level2">
<h2 class="anchored" data-anchor-id="preparation-of-road-network-layer">2.5 Preparation of Road Network Layer</h2>
<p>Using the steps learned from the previous section, import the Road Network Data (gis_osm_roads_free_1.shp) into QGIS. The Road Network data contains road networks from Malaysia, Brunei and Singapore.</p>
<section id="selecting-all-road-networks-within-the-study-area" class="level3">
<h3 class="anchored" data-anchor-id="selecting-all-road-networks-within-the-study-area">2.5.1 Selecting all road networks within the study area</h3>
<p>Using spatial query function of QGIS, extract the road network features that fall within Singapore mainland study area.&nbsp;</p>
<ol type="1">
<li><p>From the icon bar, click on the drop-down list next to <strong>Selection</strong> icon</p>
<ol type="1">
<li>Select <strong>Select Features by Polygon</strong> from the drop-down list</li>
</ol></li>
</ol>
<p><img src="images/image23.jpg" class="img-fluid"></p>
<ol start="2" type="1">
<li><p>At <strong>Browser</strong> panel, click on gis_osm_roads_free_1 to make sure that it is the active layer.</p></li>
<li><p>Click and drape to form a freehand coloured shape to cover all the road network features that fall within Singapore mainland.&nbsp;</p></li>
<li><p>Next, release the mouse and notice that all the selected features are highlighted.</p></li>
</ol>
<p><img src="images/image24.jpg" class="img-fluid"></p>
<ol start="5" type="1">
<li>Using the steps learned from previous sections, save the selected features in GeoPackage format. Name the layer all_road_networks.Your screen should look similar to the screenshot below.</li>
</ol>
<p><img src="images/image25.jpg" class="img-fluid"></p>
<p>To further filter the road network layer, we will exclude roads that are not walking or motor roads.</p>
<ol type="1">
<li><p>Under the <strong>Layers</strong> panel, right click on all_road_networks → <strong>Open Attribute Table</strong></p></li>
<li><p>Click on the <strong>Select features using an expression</strong> icon. The <strong>Select features by expression</strong> dialog window will appear.</p></li>
<li><p>At the upper left corner of the window, click on the <strong>Expression</strong> tab.</p>
<ol type="1">
<li>Under the expression pane, key in the following:</li>
</ol></li>
</ol>
<p><strong>“fclass” not in (‘bridleway’, ‘track’, ‘track_grade1’, ‘track_grade2’, ‘track_grade3’, ‘track_grade4’, ‘track_grade5’, ‘unclassified’, ‘unknown’)</strong></p>
<p>The query statement in the Expression pane should look similar to this:</p>
<p><img src="images/image26.jpg" class="img-fluid"></p>
<ol start="6" type="1">
<li><p>Click on <strong>Select Features</strong> button and close the window.</p></li>
<li><p>Using the steps learned from previous sections, save the selected features in GeoPackage format. Name the layer all_roads.</p></li>
</ol>
</section>
<section id="extracting-motor-vehicle-road-network" class="level3">
<h3 class="anchored" data-anchor-id="extracting-motor-vehicle-road-network">2.5.2 Extracting Motor Vehicle Road Network</h3>
<ol start="4" type="1">
<li><p>Under the <strong>Layers</strong> panel, right click on all_roads → <strong>Open Attribute Table</strong></p></li>
<li><p>Click on the <strong>Select features using an expression</strong> icon. The <strong>Select features by expression</strong> dialog window will appear.</p></li>
<li><p>At the upper left corner of the window, click on the <strong>Expression</strong> tab.</p>
<ol type="1">
<li>Under the expression pane, key in the following:</li>
</ol></li>
</ol>
<p><strong>“fclass” = ‘motorway’ or “fclass” = ‘motorway_link’ or “fclass” = ‘primary’ or “fclass” = ‘primary_link’ or “fclass” = ‘secondary’ or “fclass” = ‘secondary_link’ or&nbsp; “fclass” = ‘tertiary’ or “fclass” = ‘tertiary_link’ or “fclass” = ‘residential’ or&nbsp; “fclass” = ‘trunk’ or “fclass” = ‘trunk_link’</strong></p>
<p>The query statement in the Expression pane should look similar to this:</p>
<p><img src="images/image27.jpg" class="img-fluid"></p>
<ol start="7" type="1">
<li><p>Click on <strong>Select Features</strong> button and close the window.</p></li>
<li><p>Using the steps learned from previous sections, save the selected features in GeoPackage format. Name the layer motor_roads.The motor_roads layer should look similar to the screenshot below.</p></li>
</ol>
<p><img src="images/image28.jpg" class="img-fluid"></p>
</section>
<section id="extracting-pedestrian-path-network" class="level3">
<h3 class="anchored" data-anchor-id="extracting-pedestrian-path-network">2.5.3 Extracting Pedestrian Path Network</h3>
<p>Using appropriate QGIS functions learnt from previous sections, extract the pedestrian path network from the all_road_networks layer.</p>
<ol type="1">
<li>Under the expression pane, key in the following:</li>
</ol>
<p><strong>“fclass” = ‘residential’ or “fclass” = ‘living_street’ or “fclass” = ‘pedestrian’ or&nbsp; “fclass” = ‘service’ or “fclass” = ‘cycleway’ or “fclass” = ‘footway’ or “fclass” = ‘path’ or&nbsp; “fclass” = ‘steps’</strong></p>
<p><img src="images/image29.jpg" class="img-fluid"></p>
<ol start="2" type="1">
<li>Using the steps learned from previous sections, save the selected features in GeoPackage format. Name the layer walking_roads.The walking_roads layer should look similar to the screenshot below.</li>
</ol>
<p><img src="images/image30.jpg" class="img-fluid"></p>
</section>
</section>
<section id="preparation-of-young-people-distribution-layer" class="level2">
<h2 class="anchored" data-anchor-id="preparation-of-young-people-distribution-layer">2.6 Preparation of Young People Distribution Layer</h2>
<p>Using the steps learned previously, import Singapore Residents by Planning Area / Subzone, Single Year of Age and Sex, June 2011-2020 layer (respopagesex2011to2020) into the project.&nbsp;</p>
<section id="extracting-youth-population" class="level3">
<h3 class="anchored" data-anchor-id="extracting-youth-population">2.6.1 Extracting Youth Population</h3>
<p>We will now use SQL to extract the distribution of the youth population from respopagesex2011to2020.</p>
<ol type="1">
<li><p>Click <strong>Processing → Toolbox</strong></p></li>
<li><p>Type Execute SQLinto the search bar.</p></li>
<li><p><strong>Execute SQL toolbox appears.</strong></p>
<ol type="1">
<li><p><strong>For Additional input datasources, select respopagesex2011to2020</strong></p></li>
<li><p><strong>For SQL query, type</strong></p></li>
</ol></li>
</ol>
<p>Select “PA”, “SZ”, sum(“Pop”) as “Young People”&nbsp;&nbsp;</p>
<p>from respopagesex2011to2020&nbsp;</p>
<p>where “Time” = “2019” and “Age” in ('0','1','2','3','4','5','6','7','8','9','10',‘11’,‘12’,‘13’,‘14’,‘15’,‘16’,‘17’,‘18’,’)&nbsp;</p>
<p>group by “PA”,“SZ”</p>
<ol start="3" type="1">
<li>For Geometry type, select <strong>No geometry</strong></li>
</ol>
<p><img src="https://lh5.googleusercontent.com/H6NSPYezdkX_GXDwOYB7cojoyWK0kBZUd0o9uifuLdnCVLdCAizxhFQsqaIlMpWOW9Ft9Tzx8l9lq5AQ39dneuSbLWwjirZLA61fy5yRsC4CFJtoWbNKFv-eSX7cpw-yAFU1QUS6oWQpLpMqQZXPfPjlxLwaBbPVDjZ3R4vOkGctaVE3ElMako-6_MgBig.png" class="img-fluid"></p>
<ol start="4" type="1">
<li><p>Click <strong>Run</strong> button.&nbsp;</p></li>
<li><p>A new layer called SQL Output will appear in the <strong>Layers</strong> panel.</p></li>
</ol>
</section>
<section id="creating-relational-join" class="level3">
<h3 class="anchored" data-anchor-id="creating-relational-join">2.6.2 Creating Relational Join</h3>
<p>We will now perform relational join between the SQL Output layer and the MP19_SUBZONE layer.We will use the subzone name as the unique identifier to join these two layers.&nbsp;</p>
<ol type="1">
<li><p>Right-click on SQL Output → select <strong>Open Attribute Table.</strong> Observe that the <strong>SZ</strong> column values are currently in lower case. We will change the values to upper case.</p></li>
<li><p>Click <strong>Open field calculator <img src="https://lh3.googleusercontent.com/_Mze8e89wGpfrgqeHU_0Fb8Z30rO7HGQcdrs_uQmVsRz-gtvC7yPcjvTSGhYlS2vxIIqZJN_36bTn3o0Ooewst-jL3N40XlgrO2lbUTTzqhAyNReVsNX9JexxzwNBLw9MVyZjRIf-0ScAADCx-rowQZIThlr4sxS9NHgcIjTDKL-S8Dv7dAC0AylqCGG9w.png" class="img-fluid"></strong> icon</p></li>
<li><p>Click <strong>Update existing field</strong></p></li>
<li><p>For Value, select <strong>SZ</strong></p></li>
<li><p>Under <strong>Expression</strong> panel, type <strong>upper("SZ")</strong></p></li>
<li><p>Click <strong>OK</strong> button</p></li>
</ol>
<p><img src="https://lh3.googleusercontent.com/OPz7UVm3dPzXkvRgHJzaAYuV0RXktISqtv-slScFF1c6zMFE7LHSe8jFBTyytqsU1r7-okocpFafUtdG0QsCSxynlHEJhAJbjs9WEMEA9Xw5LdUoiJ2g-d7Nj5gskx9-w7LLgQn7S2I-5JsBV7jmgU3jup07sKYZiedXy6LOofLsD4eEh9upSyxMlKOyUA.png" class="img-fluid"></p>
<p>Notice that the <strong>SZ</strong> column values are now in upper case.</p>
<p><img src="https://lh4.googleusercontent.com/ZiZ5KmUMIr8vn5R657TJ7RtGE4AQSiwT_dPbCkNiHFZA0ViiUW_xThG3b60dP8HRRS_3Jb5FIxncpvBJia5-GqbFTHbCyXX8hP63VSC-ZrA3Ecc-N6hGUH0wkaYnuWZHNWoErVp07n7XhKXI2wvf2CWCeN0RuCibB2Vsj6DdzyrWbaYqpuxYJU9OdzSpiQ.png" class="img-fluid"></p>
<p>Using the steps learned previously, save SQL Output&nbsp; into Geopackage format. Name the layer Young People Distribution.</p>
<p>We will now join the Young People Distribution layer and the MP19_SUBZONE layer.&nbsp;</p>
<ol type="1">
<li><p>Right click on MP19_SUBZONE layer → click <strong>Properties</strong> → click <strong>Joins</strong></p></li>
<li><p>Click on the <strong>+</strong> icon at the bottom of the screen.<img src="https://lh3.googleusercontent.com/d5AGw6p9hAUlz0_ct5_o-iVAt2PPOQltMfiQl1YFWPFmoQ4plqGVwBAHKpnAAEOsB4fZ5HBkl8gkmy-eXnohQ_SBS6QGrlMmd7LcCp7M6Z7nycPitTQk-9V5JeM6l2F8eUl9uftVsV1-jVDId45-2QSRRSytJyLSgGR02B9GCOB64y-9wz-2fE5wSKOmew.png" class="img-fluid"></p></li>
<li><p>The <strong>Add Vector Join</strong> dialog window appears.</p>
<ol type="1">
<li><p>For Join layer, select <strong>Young People</strong></p></li>
<li><p>For Join field, select <strong>SZ</strong></p></li>
<li><p>For Target field, select <strong>SUBZONE_N</strong></p></li>
</ol></li>
</ol>
<p><img src="https://lh6.googleusercontent.com/84Sz8A5nOqRPVIWMLo6zPqcSUsrO1WOOVI2XFUWlsVJwRosYlb-erkCFscBbfWyxHauDtgdg4GLMa1Ro6t9gDwGzWYYhWXGLC_AC7Ah47lib1FymVCWDo1J0QhsJGUhJvS2g4IZPn6IXbaPylo4fLYiqBx5JM4b4ActU6bhrXm4aJH3QqBjChb79JMTQHA.png" class="img-fluid"></p>
<ol start="4" type="1">
<li>Click <strong>OK</strong> button.</li>
</ol>
<p>Notice that a relational join between Young People and MP19_SUBZONE has been created.</p>
</section>
<section id="creating-choropleth-map-to-display-youth-population-distribution" class="level3">
<h3 class="anchored" data-anchor-id="creating-choropleth-map-to-display-youth-population-distribution">2.6.3 Creating Choropleth Map to Display Youth Population Distribution</h3>
<p>We will now prepare the choropleth map to analyse the distribution of the youth population.</p>
<ol type="1">
<li><p>From the <strong>Layers</strong> panel, right-click on MP19_SUBZONE layer → click <strong>Properties.</strong></p></li>
<li><p>The <strong>Layer Properties</strong> dialog window appears. Click on <strong>Symbology</strong> tab</p>
<ol type="1">
<li><p>At Symbol selection drop-down list, select <strong>Graduated</strong> from the drop-down list</p></li>
<li><p>For Value, select <strong>Young_People_Distribution_Young_People</strong></p></li>
<li><p>For Classes, keep it as 5</p></li>
<li><p>For Color ramp, choose <strong>Blues</strong></p></li>
<li><p>For Mode, select <strong>Natural Breaks (Jenks)</strong> from the drop-down list</p></li>
<li><p>Click <strong>Classify</strong> button</p></li>
</ol></li>
</ol>
<p><img src="https://lh5.googleusercontent.com/bO9DY4oFFYSboZTD0qAHWnQWnbyF3xGMdFe4nERE__DXCgBdElGpQfdV_n9-ghkCzxrcnOfnkVCbVHiDHXWM0XDdyDR9Q6Afw35aanzMtE0qpOXOrynV_VWvtKcB9oucTUYxIrYxBIvN1JY3T6cd0kklPS3tgf4VVIx4fK2c29E-AgbKgE0yFdIgsZ_EWg.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Click the OK button.Notice that a choropleth map is now formed.</li>
</ol>
<p><img src="https://lh5.googleusercontent.com/M5oZbX873EnKHpp7wgffh2a4y6bvVLDLO-Kxv4SaicjtS74heNgdXcHD6DmizSwY70sqV36wbyW-qsTBl5memVLE5E8diYdUT5akhkQbkK2B8BZ_b84WM0txq0R7M28yYNf8LSTjHbowUCjKF0VbvIWnxYMQG73gS5LBvIRyYfVMeQiab49GNiO7Y5_3Rw.png" class="img-fluid"></p>
</section>
</section>
</section>
<section id="preparing-maps-for-analysis" class="level1">
<h1>3.0 Preparing Maps for Analysis</h1>
<section id="creating-the-hexagon-layer" class="level2">
<h2 class="anchored" data-anchor-id="creating-the-hexagon-layer">3.1 Creating the hexagon layer</h2>
<p>Now, we are going to create a hexagon layer by using the MP19_SUBZONE layer as the base. The hexagon distance is 250m.</p>
<ul>
<li>From the menu bar, select <strong>Vector → Research Tools → Create Grids</strong>.</li>
</ul>
<p><strong>Create Grids</strong> dialog window appears.</p>
<ul>
<li>For Grid type: select Hexagon (Polygon) from the drop down list.</li>
</ul>
<p><img src="images/image31.jpg" class="img-fluid"></p>
<ul>
<li>For Grid extend:, select Calculate from Layer →&nbsp; MP19_SUBZONE</li>
</ul>
<p><img src="images/image32.jpg" class="img-fluid"></p>
<ul>
<li><p>For Horizontal spacing, type 500.</p></li>
<li><p>For Vertical spacing, type 500.</p></li>
</ul>
<!-- -->
<ul>
<li>For Grid CRS, make sure that EPSG 3414 is used.</li>
</ul>
<p>When you are ready to run the process,</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>Read the Log before closing the dialog window.</p>
<ul>
<li>Click on <strong>Close</strong> button.</li>
</ul>
<p>Notice that a new temporary layer called Grid is added on the Layer pane and display on <strong>Map</strong> window.</p>
<p><img src="images/image33.jpg" class="img-fluid"></p>
<section id="editing-the-hexagon-layer" class="level3">
<h3 class="anchored" data-anchor-id="editing-the-hexagon-layer">3.1.1 Editing the hexagon layer</h3>
<p>Using the <strong>Intersection</strong> function, intersect the Grid layer and MP19_SUBZONE layer.</p>
<p>Using <strong>Select features by polygon</strong> function as learnt in the previous section, select the area that falls under Singapore mainland.&nbsp;</p>
<p><img src="images/image34.jpg" class="img-fluid"></p>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="images/image35.jpg" class="img-fluid"></p>
</section>
<section id="saving-the-hexagon-layer" class="level3">
<h3 class="anchored" data-anchor-id="saving-the-hexagon-layer">3.1.2 Saving the hexagon layer</h3>
<p>Using the steps you had learned in previous sections, save the edited Grid layer into GeoPackage format. Name the layer hexagon.</p>
<p>Before you move on to the next section, remember to remove the temporary Grid layer.</p>
</section>
<section id="computing-hexagon-centroid" class="level3">
<h3 class="anchored" data-anchor-id="computing-hexagon-centroid">3.1.3&nbsp; Computing hexagon centroid</h3>
<p>In general, network analysis required the demand in a point feature. Hexagon, on the other hand, is a polygon feature. In order to meet the analysis need, we will compute the centroids of the hexagons.</p>
<ul>
<li>From the menu bar, select <strong>Vector → Geometry Tools → Centroids.</strong></li>
</ul>
<p>Centroids dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select hexagon from the drop-down list.</li>
</ul>
<p>When you are ready to run the process,</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>Reminder: Read the log before closing.</p>
<ul>
<li>Click on <strong>Close</strong> button.</li>
</ul>
<p>Notice that a new temporary layer called Centroids is added onto the <strong>Layers</strong> panel and display on Map view.</p>
<p><img src="images/image36.jpg" class="img-fluid"></p>
</section>
<section id="saving-the-centroid-layer" class="level3">
<h3 class="anchored" data-anchor-id="saving-the-centroid-layer">3.1.4 Saving the centroid layer</h3>
<p>Using the steps you had learned in previous hands-on exercise, save the temporary Centroids layer into GeoPackage format. Name the newly created layer hex_centroids .</p>
<p>Before you move on to the next section, remember to remove the temporary Centroids layer.</p>
</section>
<section id="network-accessibility-analysis" class="level3">
<h3 class="anchored" data-anchor-id="network-accessibility-analysis">3.2.2 Network Accessibility Analysis</h3>
<section id="install-qneat-plugin" class="level4">
<h4 class="anchored" data-anchor-id="install-qneat-plugin">3.2.2.1 Install QNEAT Plugin</h4>
<ol type="1">
<li><p>From the menu bar, select <strong>Plugins → Manage and Install plugins</strong>. <strong>Plugins</strong> dialog window appears.&nbsp;</p></li>
<li><p>At the query, type QNEAT3. Notice that QNEAT3 appears on the search output list.</p></li>
<li><p>Click on QNEAT3.&nbsp;</p>
<ol type="1">
<li>Click on <strong>Install Plugin</strong> button.&nbsp;</li>
</ol></li>
</ol>
<p>When the installation is completed, click on the <strong>Close</strong> button.&nbsp;</p>
</section>
<section id="working-with-od-matrix-tool" class="level4">
<h4 class="anchored" data-anchor-id="working-with-od-matrix-tool">3.2.2.2 Working with OD Matrix Tool</h4>
<p>Next, we will use the Origin-Destination Matrix (OD Matrix) tool of QNEAT3 plugin to calculate the distances between hexagon centrois (as the demand points) and primary schools (as the supply points).</p>
<ul>
<li><p>From the menu bar, click on <strong>Processing → Toolbox</strong></p></li>
<li><p>At the Search pane, type OD Matrix.</p></li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="images/image37.jpg" class="img-fluid"></p>
<ul>
<li>Click on OD Matrix Layers as Table (m:n).</li>
</ul>
<p>OD Matrix Layers as Table (m:n) dialog window appears.</p>
<ul>
<li><p>For Network Layer, select motor_roads from the drop-down list.</p></li>
<li><p>For From-Point Layer, select hex_centroids from the drop-down list.</p></li>
<li><p>For Unique Point ID Field, select fid from the drop-down list.</p></li>
<li><p>For To-Point Layer, select primary_schools from the drop-down list.</p></li>
<li><p>For Unique Point ID Field, select field_1 from the drop-down list.</p></li>
<li><p>For Optimization Criterion, select Shortest Path (distance optimization) from the drop-down list.</p></li>
<li><p>For Entry Cost calculation method, select Ellipsoidal from the drop-down list.</p></li>
<li><p>For Direction field, select oneway from the drop-down list.</p></li>
<li><p>For Value for forward direction, type F.</p></li>
<li><p>For Value for backward direction, type T.</p></li>
<li><p>For Value for both direction, type B.</p></li>
<li><p>For Topology tolerance, type 0.5 (i.e.&nbsp;0.5 m).</p></li>
</ul>
<p>The completed dialog window should look similar to the screenshot below.</p>
<p><img src="images/image38.jpg" class="img-fluid"></p>
<p>When you are ready to run the process.</p>
<ul>
<li>At the OD Matrix dialog window, click on <strong>Run</strong> button.</li>
</ul>
<p>When you are ready to close the dialog window, click on the <strong>Close</strong> button.</p>
<p>Notice that a new temporary table called Output OD Matrix is added onto <strong>Layers</strong> panel.</p>
<ul>
<li>At the <strong>Layers</strong> panel, right-click on Output OD Matrix and select <strong>Open Attribute Table</strong> from the context menu.</li>
</ul>
<p>A data table that looks similar to the screenshot below appears.</p>
<p><img src="images/image39.jpg" class="img-fluid"></p>
<p>&nbsp;Using the steps learnt in previous sections, save the temporary Output OD Matrix table as GeoPackage format. Name the layer OD_primaryschools.</p>
</section>
<section id="extracting-shortest-distance-pairs" class="level4">
<h4 class="anchored" data-anchor-id="extracting-shortest-distance-pairs">2.2.2.3 Extracting shortest distance pairs</h4>
<p>Next, we will use the SQL tool of QGIS to select destination points with the shortest distance.</p>
<ul>
<li>At the <strong>Search</strong> pane of <strong>Processing Toolbox</strong>, type SQL.</li>
</ul>
<p><strong>SQL</strong> function appears on the list.</p>
<p><img src="images/image40.jpg" class="img-fluid"></p>
<ul>
<li>Double-click on <strong>Execute SQL</strong> of <strong>Vector general.</strong></li>
</ul>
<p><strong>Execute SQL</strong> dialog window appears.</p>
<ul>
<li><p>For <strong>Additional input datasources</strong>, select on the button at the right end.</p></li>
<li><p>Click on the checkbox Output OD Matrix.</p></li>
</ul>
<p><img src="images/image41.jpg" class="img-fluid"></p>
<ul>
<li><p>Click on <strong>OK</strong> button.</p></li>
<li><p>At SQL query panel, type the following SQL</p></li>
</ul>
<p><img src="images/image42.jpg" class="img-fluid"></p>
<ul>
<li>For Geometry type, select No Geometry from the drop-down list.</li>
</ul>
<p><img src="images/image43.jpg" class="img-fluid"></p>
<p>Notice that a temporary table called SQL Output is added onto <strong>Layers</strong> panel. It consists of four fields. The values in shortest_distance field are the shortest distance between demand points and its nearest primary school.</p>
<p><img src="images/image44.jpg" class="img-fluid"></p>
<p>Using the steps you learnt in previous sections save the temporary SQL Output table as GeoPackage format. Name the layer acc_primaryschools.</p>
</section>
</section>
<section id="mapping-accessibility-values" class="level3">
<h3 class="anchored" data-anchor-id="mapping-accessibility-values">3.2.3 Mapping Accessibility Values</h3>
<section id="creating-a-duplicate-layer" class="level4">
<h4 class="anchored" data-anchor-id="creating-a-duplicate-layer">3.2.3.1 Creating a Duplicate Layer</h4>
<p>Before we getting started, let us create a duplicate copy of hexagon layer</p>
<ul>
<li>At the <strong>Layers</strong> panel, right-click on hexagon layer and select Duplicate Layer from the context menu.</li>
</ul>
<p>A new layer called hexagon copy is added onto <strong>Layers</strong> panel.</p>
<ul>
<li>Rename the layer to Accessibility to primary schools.</li>
</ul>
</section>
<section id="performing-relational-join" class="level4">
<h4 class="anchored" data-anchor-id="performing-relational-join">3.2.3.2 Performing relational join</h4>
<p>Before we can prepare the choropleth map, we need to join acc_primaryschools data table to the newly created&nbsp; Accessibility to primary schools by using fid of acc_primaryschools data table and fid of Accessibility to primary schools attribute table as unique join fields.</p>
<ul>
<li>At the <strong>Layer</strong> panel, right-click on Accessibility to primary schools layer and select <strong>Properties</strong> from the context menu.</li>
</ul>
<p>The <strong>Properties</strong> dialog window appears.</p>
<ul>
<li><p>At the option panel, click on <strong>Joins</strong>.</p></li>
<li><p>Click on <strong>+</strong> button to add a join.</p></li>
</ul>
<p>The <strong>Add Vector Join</strong> dialog window appears.</p>
<ul>
<li><p>For <strong>Join layer</strong>, select acc_primaryschools from th drop-down list.</p></li>
<li><p>For <strong>Join field</strong>, select fid from the drop-down list.</p></li>
<li><p>For <strong>Target field,</strong> select fid from the drop-down lsit.</p></li>
<li><p>Keep the checkbox in front of Cache join layer in memory checked.</p></li>
</ul>
<p><img src="images/image45.jpg" class="img-fluid"></p>
<ul>
<li>When you are ready, click on <strong>OK</strong> button.</li>
</ul>
</section>
<section id="preparing-choropleth-map" class="level4">
<h4 class="anchored" data-anchor-id="preparing-choropleth-map">3.2.3.3 Preparing Choropleth Map</h4>
<p>Prepare a choropleth map to show the distribution of accessibility to primary schools.</p>
<ol type="1">
<li><p>From the <strong>Layers</strong> panel, double-click on the Accessibility to primary schools layer. The <strong>Layer Properties</strong> dialog window appears.&nbsp;</p></li>
<li><p>Click on the <strong>Symbology</strong> tab.&nbsp;</p></li>
<li><p>At <strong>Symbol</strong> selection drop-down list, select <strong>Graduated</strong> from the drop-down list.</p></li>
<li><p>For <strong>Value</strong>, select access_primaryschools_shortest_distance from the drop down list.</p></li>
<li><p>For <strong>Classes</strong>, keep it as 5.</p></li>
<li><p>&nbsp;For <strong>Color</strong> ramp, choose Blues or any colour of your choice from the drop-down&nbsp; list.</p>
<ol type="1">
<li>Select <strong>Invert Color Ramp</strong></li>
</ol></li>
<li><p>For <strong>Mode</strong>, choose Equal Count (Quantile) from the drop-down list.</p></li>
<li><p>Click on the <strong>Classify</strong> button.&nbsp;</p></li>
</ol>
<p>Your screen should look similar to the screenshot below.</p>
<p><br>
</p>
<p>Your choropleth map should look similar to the screenshot below.</p>
</section>
</section>
</section>
</section>
<section id="accessibility-analysis-for-secondary-school" class="level1">
<h1>Accessibility Analysis for Secondary School&nbsp;</h1>
<p><br>
</p>
<section id="data-preparation" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation">1.0 Data Preparation&nbsp;</h2>
<section id="data-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning">1.1 Data cleaning&nbsp;</h3>
<p>a. Clean School Directory and Information file downloaded from <a href="https://data.gov.sg/dataset/school-directory-and-information">General Information of Schools</a> by keeping the column like shown below, filtering the mainlevel_code with the value of SECONDARY and MIXED_LEVEL.</p>
<p>b. Carefully check each school labelled with mixed_level, and remove schools that do not include secondary school, for example Singapore Sports School and School of the Arts, save it into <strong>Data</strong> folder and name it <strong>Singapore_Secondary_Schools</strong>.</p>
<p><img src="https://lh5.googleusercontent.com/wu3QHPvlBfJhezdEeNp8rI6nZbHmCmGmf6jCAZV0s3ek7uw6ulyGJ9jwsb85TqD1QgqzQyxiihbHJg7X4ywjfa-Rk5bU3OduyjJelWlaqJ4lT5WumsNcttae07sl8evZY8G4AABOgYGF5-r8xSlnUrQ8nkiu_U_IDlR74R3rv9PQCFQLrUn3FuAQGQ.png" class="img-fluid"></p>
</section>
<section id="geocode-the-prepared-data" class="level3">
<h3 class="anchored" data-anchor-id="geocode-the-prepared-data">1.1 Geocode the prepared data</h3>
<ol type="1">
<li>Open MMQGIS -&gt; Geocode -&gt; Geocode CSV with Web Service&nbsp;</li>
</ol>
<p><br>
</p>
<p><img src="https://lh3.googleusercontent.com/0HqpdPINV1IRIqXR_uBuEtQ1ja4sujhDxYvvctTk7PYS406Ie3qHF2UzXkBzrlntmAm3OGrky8njQydioBxfvxDuRi0LunJF4scUgvVf6zdDTS8qIwbvQ8F-BMkrXrovDpadz6u7GOWMKkY_rf23Bc_BUZW5Mg_kZpzUzsy_RLAfwJojNVr50qFphw.png" class="img-fluid"></p>
<p><br>
</p>
<ol start="2" type="1">
<li>Navigate to the singapore_secondary_schools.csv by clicking the button at the end of the bar under <strong>Input CSV File (UTF-8 )</strong></li>
</ol>
<ul>
<li><p>For <strong>Address</strong>, select address from the dropdown list</p></li>
<li><p>For <strong>City</strong>, select City</p></li>
<li><p>For <strong>Country</strong>, select Country&nbsp;</p></li>
<li><p>For <strong>Web Service</strong>, select OpenStreetMap / Nominatim</p></li>
<li><p>Then save it in your geocoded file</p></li>
</ul>
<p><img src="https://lh4.googleusercontent.com/xlfEFfEYIkG6iIM00G7jAbZ8L0AKWLjlB7PIlqHlzX1wE6uQRgLxyL5AG_fHCZODh_sT2At6P8jd-IMVc4OpBzIN8QeEeCNUvh217LVD7BvEz_Hz_2uMB23eaQe6qdw4-bQ18mC6c-1Qb6KhrfMXqIo0pyIbyd7ZBhsPGGsTWJAKpSjJ6sTuh_d_Bg.png" class="img-fluid"></p>
<ol start="3" type="1">
<li><p>Now you may notice a layer called geocoded appears, let’s rename it ‘SecondarySchool’</p></li>
<li><p>&nbsp;navigate to the notfound file in your geocode folder, there are some schools are not geocoded properly, we need to manually find it one the map</p></li>
</ol>
<p><img src="https://lh6.googleusercontent.com/cJwvfCfGgBkhAoiNIOFvQXBeQZ7yHxVmEaLc3iaIf6cZ94EaLLkkza-p0usnDPYcNeVtEa0uTgtvcs-FKl9FWQJU631ZaGEv_d9sEzsm_BIDb64wx5DWeMEJGvWIO1HhTGIG7EIeSrM3zqrw23mJFiYRXJVuHhcczwfxsRz6LKNs3H2PHPAygF-ppA.png" class="img-fluid"></p>
<ol start="5" type="1">
<li>Now click Browser -&gt; double click OpenStreetMap</li>
</ol>
<p><img src="https://lh5.googleusercontent.com/5EfWA3jEV4Qe2uOXAsjQCwWoVFKW3oLjuJ38Mjeg657UJOaLTvK62YaOKWVRrBW7FDeGIAoFfeogn6FDJJkb4Mzr3BLGqnxitEz9RWetDo5rNUm2xDyuqYL5ztfCY66IeJIPOl6MYNGNbbgh4XlGlm9oUF0Wy44ESWaaF6mcUHBpSSMNrdhpdfzmsQ.png" class="img-fluid"></p>
<ol start="6" type="1">
<li>For example, Bowen Secondary school is not geocoded properly, we can manually find it by using the OpenStreetMap by using its address.</li>
</ol>
<p><img src="https://lh4.googleusercontent.com/O6wdfK2nK4WS-zGoC7u6_MGJ_0oOHf1vuGQyhThE4vS2eq3pK-8IaJ4hIjVE2WrWKOWzceqhvb9_3aPG0mdD-gUR-iIL2cdb1uMQA7DKg999Iv1Qvv-kThaTeKf5-TRBm2g32Mvzj8QRSZhg03Bs-14KVB2RuKYvfWA_RuUdYbHEpcbOaNOsshn9xg.png" class="img-fluid"></p>
<ol start="7" type="1">
<li>After you find Bowen Secondary School on Open Map, active and tick the SecondarySchool layer, right click and select Toggle Editing&nbsp;</li>
</ol>
<p><img src="https://lh4.googleusercontent.com/FSpGGarEroK9X5F4pFqkCgsTwwj2zuldn0Cl-bfUk70hoLhtWL-HciPv5NDT7oX5ZFMQYPbpkjc8pNBM1kTz45Jz0PveW2YBnTYYa28rY-NTyozC9-eLF5k_Rbg9OqfZVxf3_ojHjmXTF-LC3ZOmk4UACRwqDXKNB57dgFFwkWmi-GqYiRtSwOVLjw.png" class="img-fluid"></p>
<ol start="8" type="1">
<li>Click the Add Point Feature icon that circled in red</li>
</ol>
<p><img src="https://lh5.googleusercontent.com/RYoHE0LDUcxoAzZB9yo19aVGwYjxpjbGY9BP5CVhf-OLXreVs9_UbRpbb5HNVLFFSpkr2lfxC4dBfy4wlhg4vikxydSndu-bPrFArOX8h34dcY2rz3_5MBmXvmkMWLyJSV58vqEeJ4RQBUv_Ckry0_fy4LB7dU8ZupUd_XIAt2NllFWVAYXuL_spbA.png" class="img-fluid"></p>
<ol start="9" type="1">
<li>Fill in the necessary information according to your notfound.csv file</li>
</ol>
<p><img src="https://lh3.googleusercontent.com/hY8khGIJEAgWHyDHYSZY2g0JlQgNG1m4AHge6JHYJEZym7Lx-QNYBpRfH78-VJv4o8JMAuvueeCMoTZj_URocNzaSSYIcJ_O5MP83vDjZCb1u35MBNI_cuJGr1RqRopK63w2hhYgOmAkCBSNxHQw0WdCDss96_h1VDmpjwT-nhIsVpQ2mQiaywpbwA.png" class="img-fluid"></p>
<ol start="10" type="1">
<li>Repeat the steps for the other school in the notfound.csv file, now open the attribute table， there should be 153 features, now save it into the geopackage database</li>
</ol>
<p><br>
</p>
<p><img src="https://lh6.googleusercontent.com/xJQzxJ_g4Rqeii5ncrcllVuV3-N27Qg8up9YfxUNjd-7NTPuZf71rsm0ECmZL5OP8oNJI-Q2ihqjAazIWBtb0kMP5QTxYxzAzemxR9fs5mKx4SJwTYLmmRW_OpD9oGFrfDs0kjiQt9QLfRkPlseBgb5V2T7F5Lb8__GWrX3Yfz4L9X9RzBWoVyCA4g.png" class="img-fluid"></p>
<p><br>
</p>
</section>
</section>
<section id="preparing-base-layer-for-study-area-1" class="level2">
<h2 class="anchored" data-anchor-id="preparing-base-layer-for-study-area-1">2.0&nbsp; Preparing base layer for study area</h2>
<ul>
<li><p>The steps of preparing base layer which is MP19_Subzone and hexagon layer are demonstrated in previous section, the logic is same for analysing secondary school</p></li>
<li><p><br>
</p></li>
</ul>
<p><br>
</p>
<p>Accessibility Analysis for Junior Colleges</p>
<p><br>
</p>
<p>Data Used</p>
<p>Clean School Directory and Information file downloaded form <a href="https://data.gov.sg/dataset/school-directory-and-information">General Information of Schools</a> by keeping the column like shown below, filtering the mainlevel_code with the value of SECONDARY and MIXED_LEVEL</p>
<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</p>
<p><img src="https://lh5.googleusercontent.com/q0rViv4kgK17JEQgV3ERjp3qTf50Il0PZ1kiWWm1b-NasTvn3z88GmDGQ4eS0gzpqle6eYgHXxwkYqS5faNNQj8XjjXCo4n9S1pZ9Qlm7RiGH4bL8ooIS06Y3Cl07Odto3XeDdjXgOfcEq5t6eD9w-qv8wrPg1QzCcMiRVSrdC9jqVZLrzjT5amYpQ.png" class="img-fluid"></p>
<p><br>
</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>